def run_exploit(client, exploit, payload, rhost, lhost):
    exploit_module = client.modules.use('exploit', exploit)
    payload_module = client.modules.use('payload', payload)

    # Set options
    exploit_module['RHOSTS'] = rhost
    payload_module['LHOST'] = lhost

    # Merge payload options into exploit
    for k, v in payload_module.options.items():
        if k not in exploit_module.options:
            exploit_module[k] = v

    job_id = exploit_module.execute(payload=payload)['job_id']
    print(f"[*] Exploit running as Job ID: {job_id}")

